
<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="ionic.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="http://code.jquery.com/jquery-1.10.2.min.js" type="text/javascript"></script>
   
    <script>
        function onFailure(err) {
            alert("The following error occured: " + err.name);
        }
        jQuery(document).ready(function () {

            var video = document.querySelector('#webcam');
            var button = document.querySelector('#screenshot-button');
            var canvas = document.querySelector('#screenshot-canvas');
            var ctx = canvas.getContext('2d');

            navigator.getUserMedia = (navigator.getUserMedia ||
                            navigator.webkitGetUserMedia ||
                            navigator.mozGetUserMedia ||
                            navigator.msGetUserMedia);
            if (navigator.getUserMedia) {
                navigator.getUserMedia
                            (
                              { video: true },
                              function (localMediaStream) {
                                  video.src = window.URL.createObjectURL(localMediaStream);
                              }, onFailure);
            }
            else {
                onFailure();
            }
            button.addEventListener('click',snapshot, false);
            
            function snapshot() {
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                ctx.drawImage(video, 0, 0);
            }
        });

        
    </script>
</head>
<div class="bar bar-header bar-positive">
  <h1 class="title">bar-stable</h1>
</div>
<div style="margin-top : 60px;">
</div>
<ion-content>
    <video id="webcam" autoplay >
    </video>
    <canvas id="screenshot-canvas">
    </canvas>
    <p>
        <button class="button button-balanced" id="screenshot-button">
            Capture</button>
    </p>
</ion-content>
